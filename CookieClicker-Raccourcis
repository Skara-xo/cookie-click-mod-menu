// ==UserScript==
// @name         Cookie Clicker - Raccourcis Clavier Achat/Vente
// @namespace    http://tampermonkey.net/
// @version      1.2
// @description  Touche Q pour Acheter/Vendre, W/X/C/V pour les quantitÃ©s dans Cookie Clicker ! ðŸ›’ðŸ’°
// @author       ...
// @match        https://orteil.dashnet.org/cookieclicker/*
// @grant        none
// ==/UserScript==

(function () {
    'use strict';

    const wait = setInterval(() => {
        if (typeof Game !== 'undefined' && Game.ready) {
            clearInterval(wait);
            console.log("[Raccourcis] InitialisÃ©s");
            initKeyboardShortcuts();
        }
    }, 500);

    function initKeyboardShortcuts() {
        document.addEventListener('keydown', (e) => {
            const key = e.key.toLowerCase();

            switch (key) {
                case 'q': {
                    const buy = document.getElementById('storeBulkBuy');
                    const sell = document.getElementById('storeBulkSell');
                    if (buy?.classList.contains('selected')) {
                        sell?.click();
                        console.log("[Q] â†’ ðŸ’° Vendre");
                    } else {
                        buy?.click();
                        console.log("[Q] â†’ ðŸ›’ Acheter");
                    }
                    break;
                }

                case 'w': {
                    document.getElementById('storeBulk1')?.click();
                    console.log("[W] â†’ QuantitÃ© : 1");
                    break;
                }

                case 'x': {
                    document.getElementById('storeBulk10')?.click();
                    console.log("[X] â†’ QuantitÃ© : 10");
                    break;
                }

                case 'c': {
                    document.getElementById('storeBulk100')?.click();
                    console.log("[C] â†’ QuantitÃ© : 100");
                    break;
                }

                case 'v': {
                    document.getElementById('storeBulkMax')?.click();
                    console.log("[V] â†’ QuantitÃ© : Max");
                    break;
                }
            }
        });
    }
})();
